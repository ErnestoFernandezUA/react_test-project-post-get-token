(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(28),o=n(57),i=n.n(o),c=n(58),l=n(4),u=n(13),d=n(14),p=n(18),j=n(59),f=n.n(j),b=n(11),h=n(5),m=n.n(h),g=n(8),x=n(104),O="https://frontend-test-assignment-api.abz.agency/api/v1",v=x.a.create({baseURL:O}),_=function(e){return Object(g.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("get",O+e),t.next=3,v.get(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},y=function(e,t,n){return Object(g.a)(m.a.mark((function r(){var a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("post",O+e,t),r.next=3,v.post(e,t,n);case 3:return a=r.sent,r.abrupt("return",a.data);case 5:case"end":return r.stop()}}),r)})))()},k={storage:[],statusLoading:"idle",error:null},w=Object(d.b)("users/getPositions",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,_("/positions");case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(d.c)({name:"positions",initialState:k,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(b.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return k}},extraReducers:function(e){e.addCase(w.pending,(function(e){e.statusLoading="loading"})).addCase(w.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(w.rejected,(function(e){e.statusLoading="failed"}))}}),N=C.reducer,S=C.actions,L=(S.setPositionsStatus,S.setPositionsError,S.resetPositionsState,function(e){return e.positions.storage}),E=function(e,t){var n=Date.now();if(e){var r=n-e<60*t*1e3;return console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",r),r}return!1},W={storage:null,currentRequestId:null,timeOfLastSet:null,activeDuration:40,statusLoading:"idle",error:null},P=Object(d.b)("token/fetchToken",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,s,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,a=n.getState,s=n.requestId,e.prev=1,o=a(),i=E(o.token.timeOfLastSet,40),s!==o.token.currentRequestId||i){e.next=9;break}return e.next=7,_("/token");case 7:return c=e.sent,e.abrupt("return",c);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(d.c)({name:"token",initialState:W,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return W}},extraReducers:function(e){e.addCase(P.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.error=null,e.currentRequestId||(e.currentRequestId=n)})).addCase(P.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.timeOfLastSet=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(P.rejected,(function(e,t){e.statusLoading="failed",e.error=t.payload}))}}),T=I.reducer,U=I.actions,A=(U.setToken,U.setStatus,U.setError,U.resetToken),F=function(e,t,n){return _(e||"/users?page=".concat(t,"&count=").concat(n))},R={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},H=Object(d.b)("users/fetchUsers",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,s,o,i,c,l,u,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.link_to_next_page,a=void 0===r?null:r,s=t.page,o=void 0===s?1:s,i=t.count,c=void 0===i?6:i,l=t.delay,u=void 0===l?10:l,d=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,u)}));case 5:return e.next=7,F(a,o,c);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),d(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(d.b)("users/postUser",function(){var e=Object(g.a)(m.a.mark((function e(t,n){var r,a,s,o,i,c,l,u,d,p,j,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,a=r.name,s=r.email,o=r.phone,i=r.images,c=r.position_id,l=n.dispatch,u=n.getState,d=n.rejectWithValue,p=u(),l(P()),(j=new FormData).append("position_id",c),j.append("name",a),j.append("email",s),j.append("phone",o),j.append("photo",i[0]),e.prev=10,e.next=13,b=j,h={headers:{Token:String(p.token.storage)}},console.log("postUser//"),y("/users",b,h);case 13:return f=e.sent,console.log("postUserAsync/ response",f),e.abrupt("return",f);case 18:e.prev=18,e.t0=e.catch(10),console.log("postUserAsync// rejectWithValue",e.t0),console.log(e.t0.message),d(e.t0);case 23:case"end":return e.stop()}var b,h}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(d.c)({name:"user",initialState:R,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(b.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(b.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetUsers:function(e){e.storage=R.storage}},extraReducers:function(e){e.addCase(H.pending,(function(e){e.statusLoading="loading"})).addCase(H.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,r=t.payload,a=r.users,s=r.links.next_url,o=r.total_pages,i=r.page;(n=e.payload).push.apply(n,Object(b.a)(a)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=o,e.current_page=i}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(H.rejected,(function(e){e.statusLoading="failed"})).addCase(X.pending,(function(e){e.statusLoading="loading"})).addCase(X.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(X.rejected,(function(e){console.log("postUserAsync.rejected"),e.statusLoading="failed"}))}}),G=q.reducer,D=q.actions,V=(D.addUsers,D.addPayload),B=(D.setStatus,D.resetUsers,function(e){return e.users.storage}),J=function(e){return e.users.payload},M=function(e){return"loading"===e.users.statusLoading},z=function(e){return e.users.error},K=function(e){return e.users.link_to_next_page},Y=function(e){return e.users.current_page===e.users.total_pages},Q=function(e){return e.users.fails},Z={screen:null},$=Object(d.c)({name:"options",initialState:Z,reducers:{setScreen:function(e,t){e.screen=t.payload},resetOptionsState:function(){return Z}}}),ee=$.reducer,te=$.actions,ne=te.setScreen,re=(te.resetOptionsState,function(e){return e.options.screen}),ae=Object(u.b)({users:G,token:T,positions:N,options:ee}),se={key:"root",storage:f.a,whitelist:["token"]},oe=Object(p.g)(se,ae),ie=Object(d.a)({reducer:oe,middleware:function(e){return e({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e,"posts"]}})}}),ce=ie,le=Object(p.h)(ie),ue=n(47),de=s.b,pe=s.c,je=n(50),fe=n(16),be=n.n(fe),he=(n(89),n(2)),me=function(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,a=e.children,s=void 0===a?"":a,o=e.onClick,i=void 0===o?function(){return console.log("no onClick function")}:o,c=e.width;return Object(he.jsx)("div",{className:be()("Button",{"Button--disabled":r},t),onClick:i,style:{width:c},onKeyDown:function(){},children:Object(he.jsx)("div",{className:"Button__container",children:s})})},ge=n.p+"static/media/logo.85fd1d96.svg",xe=(n(91),n(44),n(45),function(){return Object(he.jsx)("div",{className:"Header",children:Object(he.jsxs)("div",{className:"Header__container Container Wrapper",children:[Object(he.jsx)("div",{className:"Header__logo",children:Object(he.jsx)("button",{type:"button",onClick:function(){je.animateScroll.scrollToTop()},children:Object(he.jsx)("img",{src:ge,alt:"Logo"})})}),Object(he.jsxs)("div",{className:"Header__nav",children:[Object(he.jsx)(me,{onClick:function(){return je.animateScroll.scrollTo(window.innerHeight)},children:"Users"}),Object(he.jsx)(me,{children:"Sign in"})]})]})})}),Oe=(n(92),function(){return Object(he.jsx)("article",{className:"Promo Container",children:Object(he.jsxs)("div",{className:"Promo__poster Wrapper",children:[Object(he.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(he.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(he.jsx)(me,{className:"Promo__button",children:"Sign up"})]})})}),ve=n(6),_e=768,ye=1024,ke=1170;n(93);var we=function(e){var t=e.user,n=t.name,r=t.email,a=t.photo,s=t.phone,o=t.position,i=e.maxWidthContent,c={maxWidth:void 0===i?"":i,border:"1px solid transparent"};return Object(he.jsx)("div",{className:"Card",children:Object(he.jsxs)("div",{className:"Card__container",children:[Object(he.jsx)("img",{className:"Card__photo",src:a,alt:a}),Object(he.jsx)("p",{className:"Card__name",style:c,children:n}),Object(he.jsx)("p",{className:"Card__position",children:o}),Object(he.jsx)("p",{className:"Card__email",style:c,children:r}),Object(he.jsx)("p",{className:"Card__phone",children:s})]})})},Ce=(n(94),function(e){var t=e.children,n=e.className;return Object(he.jsx)("div",{className:be()("List",n),children:t})}),Ne=(n(95),function(e){var t=e.isLoading;return Object(he.jsx)("div",{className:be()("Loader",{"Loader--isLoading":t}),children:Object(he.jsx)("div",{className:"Loader__logo",children:"Loading..."})})}),Se=(n(96),function(){var e=de(),t=pe(B),n=pe(J),a=pe(M),s=pe(K),o=pe(Y),i=pe(z),c=Object(r.useState)(""),l=Object(ve.a)(c,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){d("".concat(function(){var e=window.innerWidth;switch(console.log("widthContentColumns/ width",e),!0){case e>ke:return(ke-58)/3-40;case e>ye:return(e-120-58)/3-40;case e>_e:return(e-64-40)/2-40;default:return e-32-40-17}}(),"px"))}),[]),Object(r.useEffect)((function(){setTimeout((function(){n.length>0&&e(V())}),5e3)}),[t.length,n,e]),Object(he.jsx)("article",{className:be()("ArticleGet",{"ArticleGet--first-load":!t.length},"Container","Wrapper"),children:Object(he.jsxs)("div",{className:"ArticleGet__content",children:[Object(he.jsx)("h2",{className:"ArticleGet__title",children:"Working with GET request"}),i&&Object(he.jsx)("p",{children:i}),Object(he.jsxs)(Ce,{children:[t.map((function(e){return Object(he.jsx)(we,{user:e,maxWidthContent:u},e.id)})),n.map((function(e){return Object(he.jsx)(we,{user:e,maxWidthContent:u},e.id)}))]}),Object(he.jsxs)("div",{className:"ArticleGet__loaderUI",children:[Object(he.jsx)(Ne,{isLoading:a}),Object(he.jsx)("div",{className:"ArticleGet__button-container",children:(!t.length||!o)&&Object(he.jsx)(me,{onClick:function(){return!a&&e(H({link_to_next_page:s}))},width:120,disabled:a,children:"Show More"})})]})]})})}),Le=n(9),Ee=n(23),We="#E5E5E5",Pe=(n(97),function(e){var t=e.name,n=e.label,r=e.type,a=void 0===r?"text":r,s=e.value,o=e.helper,i=e.errors,c=e.onChange,l=void 0===c?function(){return console.log("no input onChange function")}:c,u=e.className;return Object(he.jsxs)("div",{className:be()("Input",u),children:[Object(he.jsxs)("label",{htmlFor:"input",children:[s&&Object(he.jsx)("p",{className:"Input__label",children:n}),Object(he.jsx)("input",{name:t,id:"input",type:a,value:s,onChange:l,className:be()("Input__input",{"Input__input--error":null===i||void 0===i?void 0:i.length}),placeholder:n})]}),(null===i||void 0===i?void 0:i.length)?Object(he.jsx)("div",{className:"Input__error-container"}):Object(he.jsx)("p",{className:"Input__helpers",children:o})]})}),Ie=(n(98),{name:"John",email:"98percent-already-done@go.et",phone:"380989898981",position_id:1,images:[]}),Te=function(){var e,t=de(),n=pe(L),a=pe(Q),s=Object(r.useState)(Ie),o=Object(ve.a)(s,2),i=o[0],c=o[1],l=function(e){var t=e.target,n=t.name,r=t.value;console.log("name-value",n,r),c(Object(Ee.a)(Object(Ee.a)({},i),{},Object(Le.a)({},n,"position_id"===n?Number(r):r))),console.log(i)},u=Object(r.useState)(!1),d=Object(ve.a)(u,2),p=d[0],j=d[1],f=Object(r.useRef)(),b=Object(r.useState)(328),h=Object(ve.a)(b,2),x=h[0],O=h[1];Object(r.useEffect)((function(){O(function(){var e=window.innerWidth;return e<412?e-32:380}())}),[t]);var v=function(){f.current.click()},_=function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0);try{console.log("handleUpload",{user:i}),t(X({user:i}))}catch(n){}finally{j(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(he.jsxs)("div",{className:"Form",children:[Object(he.jsx)(Pe,{name:"name",label:"Your name",type:"text",value:i.name,errors:a.name,onChange:l,backgroundColor:We,className:"Form__input-name",maxWidthErrors:x}),Object(he.jsx)(Pe,{name:"email",label:"Email",type:"text",value:i.email,errors:["Error1","Error2","Error3"],onChange:l,backgroundColor:We,className:"Form__input-email",maxWidthErrors:x}),Object(he.jsx)(Pe,{name:"phone",label:"Phone",type:"text",value:i.phone,helper:"+38 (XXX) XXX - XX - XX",errors:["Error1","Error2","Error3"],onChange:l,backgroundColor:We,className:"Form__input-phone",maxWidthErrors:x}),Object(he.jsxs)("label",{htmlFor:"positions",children:["Select your position:",n.map((function(e){return Object(he.jsx)("div",{children:Object(he.jsxs)("label",{htmlFor:e.name,children:[Object(he.jsx)("input",{id:e.name,name:"position_id",type:"checkbox",value:e.id,checked:e.id===i.position_id,onChange:l}),e.name]})},e.id)})),a.position_id&&a.position_id.map((function(e){return Object(he.jsx)("p",{children:e},e)}))]}),Object(he.jsxs)("label",{htmlFor:"file",children:[Object(he.jsx)("div",{style:{},children:Object(he.jsx)("input",{name:"images",type:"file",onChange:l,accept:"image/*",ref:f,multiple:!0,disabled:p})}),a.images&&a.images.map((function(e){return Object(he.jsx)("p",{children:e},e)}))]}),(null===(e=i.images)||void 0===e?void 0:e.length)?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{className:"img-preview"}),Object(he.jsx)("div",{className:"action-buttons",children:Object(he.jsx)("button",{type:"button",onClick:v,disabled:p,children:"Change"})})]}):Object(he.jsx)("button",{type:"button",onClick:v,children:"Chose Images"}),Object(he.jsx)("button",{type:"button",onClick:function(){return _()},disabled:p,children:"Post User"})]})},Ue=(n(99),function(){return Object(he.jsxs)("article",{className:"ArticlePost",children:[Object(he.jsx)("h2",{className:"ArticlePost__title",children:"Working with POST request"}),Object(he.jsx)(Te,{})]})}),Ae=(n(100),function(){return Object(he.jsxs)("section",{className:"HomePage",children:[Object(he.jsx)(Oe,{}),Object(he.jsx)(Se,{}),Object(he.jsx)(Ue,{})]})}),Fe=function(){return Object(he.jsx)("div",{children:"This page doesn't exist."})};function Re(){var e=de(),t=pe(re);return Object(r.useEffect)((function(){e(A()),e(ne(function(){var e=window.innerWidth;switch(!0){case e>ke:return"fullscreen";case e>ye:return"desktop";case e>_e:return"tablet";default:return"mobile"}}())),e(P()),e(w())}),[]),Object(r.useEffect)((function(){t&&"mobile"!==t&&"tablet"!==t&&e(H({page:1,count:6}))}),[e,t]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(xe,{}),Object(he.jsx)("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:9999},children:"window.innerWidth ".concat(window.innerWidth," x window.innerHeight ").concat(window.innerHeight)}),Object(he.jsx)("main",{children:Object(he.jsx)(l.a,{})})]})}var He=Object(ue.a)([{path:"/",element:Object(he.jsx)(Re,{}),errorElement:Object(he.jsx)(Fe,{}),id:"App",children:[{path:"/",element:Object(he.jsx)(Ae,{}),id:"homepage",errorElement:Object(he.jsx)(he.Fragment,{children:"Error on Homepage"})}]}]);n(101);i.a.createRoot(document.getElementById("root")).render(Object(he.jsx)(a.a.StrictMode,{children:Object(he.jsx)(s.a,{store:ce,children:Object(he.jsx)(c.a,{loading:null,persistor:le,children:Object(he.jsx)(l.c,{router:He})})})}))},44:function(e,t,n){},45:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.460c2d37.chunk.js.map