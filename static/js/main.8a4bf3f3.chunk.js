(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var r=n(27),a=n(56),s=n.n(a),i=n(57),o=n(4),c=n(13),l=n(14),u=n(18),d=n(58),p=n.n(d),j=n(11),f=n(5),b=n.n(f),h=n(8),g=n(103),m="https://frontend-test-assignment-api.abz.agency/api/v1",O=g.a.create({baseURL:m}),x=function(e){return Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("get",m+e),t.next=3,O.get(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},v=function(e,t,n){return Object(h.a)(b.a.mark((function r(){var a;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("post",m+e,t),r.next=3,O.post(e,t,n);case 3:return a=r.sent,r.abrupt("return",a.data);case 5:case"end":return r.stop()}}),r)})))()},_={storage:[],statusLoading:"idle",error:null},y=Object(l.b)("users/getPositions",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,x("/positions");case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(l.c)({name:"positions",initialState:_,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return _}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.statusLoading="loading"})).addCase(y.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(y.rejected,(function(e){e.statusLoading="failed"}))}}),w=k.reducer,C=k.actions,N=(C.setPositionsStatus,C.setPositionsError,C.resetPositionsState,function(e){return e.positions.storage}),S=function(e,t){var n=Date.now();if(e){var r=n-e<60*t*1e3;return console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",r),r}return!1},L={storage:null,currentRequestId:null,timeOfLastSet:null,activeDuration:40,statusLoading:"idle",error:null},E=Object(l.b)("token/fetchToken",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,s,i,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,a=n.getState,s=n.requestId,e.prev=1,i=a(),o=S(i.token.timeOfLastSet,40),s!==i.token.currentRequestId||o){e.next=9;break}return e.next=7,x("/token");case 7:return c=e.sent,e.abrupt("return",c);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(l.c)({name:"token",initialState:L,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return L}},extraReducers:function(e){e.addCase(E.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.error=null,e.currentRequestId||(e.currentRequestId=n)})).addCase(E.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.timeOfLastSet=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(E.rejected,(function(e,t){e.statusLoading="failed",e.error=t.payload}))}}),U=W.reducer,P=W.actions,I=(P.setToken,P.setStatus,P.setError,P.resetToken),T=function(e,t,n){return x(e||"/users?page=".concat(t,"&count=").concat(n))},A={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},F=Object(l.b)("users/fetchUsers",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,s,i,o,c,l,u,d,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.link_to_next_page,a=void 0===r?null:r,s=t.page,i=void 0===s?1:s,o=t.count,c=void 0===o?6:o,l=t.delay,u=void 0===l?10:l,d=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,u)}));case 5:return e.next=7,T(a,i,c);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),d(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(l.b)("users/postUser",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,s,i,o,c,l,u,d,p,j,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,a=r.name,s=r.email,i=r.phone,o=r.images,c=r.position_id,l=n.dispatch,u=n.getState,d=n.rejectWithValue,p=u(),l(E()),(j=new FormData).append("position_id",c),j.append("name",a),j.append("email",s),j.append("phone",i),j.append("photo",o[0]),e.prev=10,e.next=13,b=j,h={headers:{Token:String(p.token.storage)}},console.log("postUser//"),v("/users",b,h);case 13:return f=e.sent,console.log("postUserAsync/ response",f),e.abrupt("return",f);case 18:e.prev=18,e.t0=e.catch(10),console.log("postUserAsync// rejectWithValue",e.t0),console.log(e.t0.message),d(e.t0);case 23:case"end":return e.stop()}var b,h}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(l.c)({name:"user",initialState:A,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(j.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetUsers:function(e){e.storage=A.storage}},extraReducers:function(e){e.addCase(F.pending,(function(e){e.statusLoading="loading"})).addCase(F.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,r=t.payload,a=r.users,s=r.links.next_url,i=r.total_pages,o=r.page;(n=e.payload).push.apply(n,Object(j.a)(a)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=i,e.current_page=o}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(F.rejected,(function(e){e.statusLoading="failed"})).addCase(R.pending,(function(e){e.statusLoading="loading"})).addCase(R.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(R.rejected,(function(e){console.log("postUserAsync.rejected"),e.statusLoading="failed"}))}}),q=H.reducer,G=H.actions,D=(G.addUsers,G.addPayload),V=(G.setStatus,G.resetUsers,function(e){return e.users.storage}),B=function(e){return e.users.payload},J=function(e){return"loading"===e.users.statusLoading},z=function(e){return e.users.error},M=function(e){return e.users.link_to_next_page},K=function(e){return e.users.current_page===e.users.total_pages},Y=function(e){return e.users.fails},Q={screen:null},X=Object(l.c)({name:"options",initialState:Q,reducers:{setScreen:function(e,t){e.screen=t.payload},resetOptionsState:function(){return Q}}}),Z=X.reducer,$=X.actions,ee=$.setScreen,te=($.resetOptionsState,function(e){return e.options.screen}),ne=Object(c.b)({users:q,token:U,positions:w,options:Z}),re={key:"root",storage:p.a,whitelist:["token"]},ae=Object(u.g)(re,ne),se=Object(l.a)({reducer:ae,middleware:function(e){return e({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e,"posts"]}})}}),ie=se,oe=Object(u.h)(se),ce=n(0),le=n(46),ue=r.b,de=r.c,pe=n(49),je=n(16),fe=n.n(je),be=(n(88),n(2)),he=function(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,a=e.children,s=void 0===a?"":a,i=e.onClick,o=void 0===i?function(){return console.log("no onClick function")}:i,c=e.width;return Object(be.jsx)("div",{className:fe()("Button",{"Button--disabled":r},t),onClick:o,style:{width:c},onKeyDown:function(){},children:Object(be.jsx)("div",{className:"Button__container",children:s})})},ge=n.p+"static/media/logo.85fd1d96.svg",me=(n(90),n(43),n(44),function(){return Object(be.jsx)("div",{className:"Header",children:Object(be.jsxs)("div",{className:"Header__container Container Wrapper",children:[Object(be.jsx)("div",{className:"Header__logo",children:Object(be.jsx)("button",{type:"button",onClick:function(){pe.animateScroll.scrollToTop()},children:Object(be.jsx)("img",{src:ge,alt:"Logo"})})}),Object(be.jsxs)("div",{className:"Header__nav",children:[Object(be.jsx)(he,{onClick:function(){return pe.animateScroll.scrollTo(window.innerHeight)},children:"Users"}),Object(be.jsx)(he,{children:"Sign in"})]})]})})}),Oe=(n(91),function(){return Object(be.jsx)("article",{className:"Promo Container",children:Object(be.jsxs)("div",{className:"Promo__poster Wrapper",children:[Object(be.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(be.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(be.jsx)(he,{className:"Promo__button",children:"Sign up"})]})})}),xe=n(6),ve=768,_e=1024,ye=1170;n(92);var ke=function(e){var t=e.user,n=t.name,r=t.email,a=t.photo,s=t.phone,i=t.position,o=e.maxWidthContent,c={maxWidth:void 0===o?"":o,border:"1px solid transparent"};return Object(be.jsx)("div",{className:"Card",children:Object(be.jsxs)("div",{className:"Card__container",children:[Object(be.jsx)("img",{className:"Card__photo",src:a,alt:a}),Object(be.jsx)("p",{className:"Card__name",style:c,children:n}),Object(be.jsx)("p",{className:"Card__position",children:i}),Object(be.jsx)("p",{className:"Card__email",style:c,children:r}),Object(be.jsx)("p",{className:"Card__phone",children:s})]})})},we=(n(93),function(e){var t=e.children,n=e.className;return Object(be.jsx)("div",{className:fe()("List",n),children:t})}),Ce=(n(94),function(e){var t=e.isLoading;return Object(be.jsx)("div",{className:fe()("Loader",{"Loader--isLoading":t}),children:Object(be.jsx)("div",{className:"Loader__logo",children:"Loading..."})})}),Ne=(n(95),function(){var e=ue(),t=de(V),n=de(B),r=de(J),a=de(M),s=de(K),i=de(z),o=Object(ce.useState)(""),c=Object(xe.a)(o,2),l=c[0],u=c[1];return Object(ce.useEffect)((function(){u("".concat(function(){var e=window.innerWidth;switch(console.log("widthContentColumns/ width",e),!0){case e>ye:return(ye-58)/3-40;case e>_e:return(e-120-58)/3-40;case e>ve:return(e-64-40)/2-40;default:return e-32-40-17}}(),"px"))}),[]),Object(ce.useEffect)((function(){setTimeout((function(){n.length>0&&e(D())}),5e3)}),[t.length,n,e]),Object(be.jsx)("article",{className:fe()("ArticleGet",{"ArticleGet--first-load":!t.length},"Container","Wrapper"),children:Object(be.jsxs)("div",{className:"ArticleGet__content",children:[Object(be.jsx)("h2",{className:"ArticleGet__title",children:"Working with GET request"}),i&&Object(be.jsx)("p",{children:i}),Object(be.jsxs)(we,{children:[t.map((function(e){return Object(be.jsx)(ke,{user:e,maxWidthContent:l},e.id)})),n.map((function(e){return Object(be.jsx)(ke,{user:e,maxWidthContent:l},e.id)}))]}),Object(be.jsxs)("div",{className:"ArticleGet__loaderUI",children:[Object(be.jsx)(Ce,{isLoading:r}),Object(be.jsx)("div",{className:"ArticleGet__button-container",children:(!t.length||!s)&&Object(be.jsx)(he,{onClick:function(){return!r&&e(F({link_to_next_page:a}))},width:120,disabled:r,children:"Show More"})})]})]})})}),Se="#E5E5E5",Le=(n(96),function(e){var t=e.label,n=e.type,r=void 0===n?"text":n,a=e.value,s=e.helper,i=e.errors,o=e.onChange,c=void 0===o?function(){return console.log("no input onChange function")}:o,l=e.className;return Object(be.jsxs)("div",{className:fe()("Input",l),children:[Object(be.jsxs)("label",{htmlFor:"input",children:[a&&Object(be.jsx)("p",{className:"Input__label",children:t}),Object(be.jsx)("input",{id:"input",type:r,value:a,onChange:c,className:fe()("Input__input",{"Input__input--error":null===i||void 0===i?void 0:i.length}),placeholder:t})]}),(null===i||void 0===i?void 0:i.length)?Object(be.jsx)("div",{className:"Input__error-container"}):Object(be.jsx)("p",{className:"Input__helpers",children:s})]})}),Ee=(n(97),function(){var e=ue(),t=de(N),n=de(Y),r=Object(ce.useState)("John"),a=Object(xe.a)(r,2),s=a[0],i=a[1],o=Object(ce.useState)("98percent-already-done@go.et"),c=Object(xe.a)(o,2),l=c[0],u=c[1],d=Object(ce.useState)("380989898981"),p=Object(xe.a)(d,2),j=p[0],f=p[1],g=Object(ce.useState)("2"),m=Object(xe.a)(g,2),O=m[0],x=m[1],v=Object(ce.useState)(),_=Object(xe.a)(v,2),y=_[0],k=_[1],w=Object(ce.useState)(!1),C=Object(xe.a)(w,2),S=C[0],L=C[1],E=Object(ce.useRef)(),W=Object(ce.useState)(328),U=Object(xe.a)(W,2),P=U[0],I=U[1];Object(ce.useEffect)((function(){I(function(){var e=window.innerWidth;return e<412?e-32:380}())}),[e]);var T=function(){E.current.click()},A=function(){var t=Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(!0);try{console.log("handleUpload",{user:{name:s,email:l,phone:j,images:y,position_id:O}}),e(R({user:{name:s,email:l,phone:j,images:y,position_id:O}}))}catch(n){}finally{L(!1)}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(be.jsxs)("div",{className:"Form",children:[Object(be.jsx)(Le,{label:"Your name",type:"text",value:s,errors:n.name,onChange:function(e){return i(e.target.value)},backgroundColor:Se,className:"Form__input-name",maxWidthErrors:P}),Object(be.jsx)(Le,{label:"Email",type:"text",value:s,errors:["Error1","Error2","Error3"],onChange:function(e){return i(e.target.value)},backgroundColor:Se,className:"Form__input-email",maxWidthErrors:P}),Object(be.jsxs)("label",{htmlFor:"name",children:["name:\xa0",Object(be.jsx)("input",{id:"name",type:"text",value:s,onChange:function(e){return i(e.target.value)}}),n.name&&n.name.map((function(e){return Object(be.jsx)("p",{children:e},e)}))]}),Object(be.jsxs)("label",{htmlFor:"email",children:["email:\xa0",Object(be.jsx)("input",{id:"email",type:"text",value:l,onChange:function(e){return u(e.target.value)}}),n.email&&n.email.map((function(e){return Object(be.jsx)("p",{children:e},e)}))]}),Object(be.jsxs)("label",{htmlFor:"phone",children:["phone:\xa0",Object(be.jsx)("input",{id:"phone",type:"text",value:j,onChange:function(e){return f(e.target.value)}}),n.phone&&n.phone.map((function(e){return Object(be.jsx)("p",{children:e},e)}))]}),Object(be.jsxs)("label",{htmlFor:"positions",children:["positions:\xa0",Object(be.jsx)("select",{id:"positions",value:O,onChange:function(e){return x(e.target.value)},children:t.map((function(e){return Object(be.jsx)("option",{value:e.id,children:e.name},e.id)}))}),n.position_id&&n.position_id.map((function(e){return Object(be.jsx)("p",{children:e},e)}))]}),Object(be.jsxs)("label",{htmlFor:"file",children:[Object(be.jsx)("div",{style:{visibility:"hidden"},children:Object(be.jsx)("input",{type:"file",onChange:function(e){return k(e.target.files)},accept:"image/*",ref:E,multiple:!0,disabled:S})}),n.images&&n.images.map((function(e){return Object(be.jsx)("p",{children:e},e)}))]}),(null===y||void 0===y?void 0:y.length)?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("div",{className:"img-preview",children:Array.from(y).map((function(e){return Object(be.jsx)("img",{alt:e,src:URL.createObjectURL(e),width:100},e)}))}),Object(be.jsx)("div",{className:"action-buttons",children:Object(be.jsx)("button",{type:"button",onClick:T,disabled:S,children:"Change"})})]}):Object(be.jsx)("button",{type:"button",onClick:T,children:"Chose Images"}),Object(be.jsx)("button",{type:"button",onClick:function(){return A()},disabled:S,children:"Post User"})]})}),We=(n(98),function(){return Object(be.jsxs)("article",{className:"ArticlePost",children:[Object(be.jsx)("h2",{className:"ArticlePost__title",children:"Working with POST request"}),Object(be.jsx)(Ee,{})]})}),Ue=(n(99),function(){return Object(be.jsxs)("section",{className:"HomePage",children:[Object(be.jsx)(Oe,{}),Object(be.jsx)(Ne,{}),Object(be.jsx)(We,{})]})}),Pe=function(){return Object(be.jsx)("div",{children:"This page doesn't exist."})};function Ie(){var e=ue(),t=de(te);return Object(ce.useEffect)((function(){e(I()),e(ee(function(){var e=window.innerWidth;switch(!0){case e>ye:return"fullscreen";case e>_e:return"desktop";case e>ve:return"tablet";default:return"mobile"}}())),e(E()),e(y())}),[]),Object(ce.useEffect)((function(){t&&"mobile"!==t&&"tablet"!==t&&e(F({page:1,count:6}))}),[e,t]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(me,{}),Object(be.jsx)("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:9999},children:"window.innerWidth ".concat(window.innerWidth," x window.innerHeight ").concat(window.innerHeight)}),Object(be.jsx)("main",{children:Object(be.jsx)(o.a,{})})]})}var Te=Object(le.a)([{path:"/",element:Object(be.jsx)(Ie,{}),errorElement:Object(be.jsx)(Pe,{}),id:"App",children:[{path:"/",element:Object(be.jsx)(Ue,{}),id:"homepage",errorElement:Object(be.jsx)(be.Fragment,{children:"Error on Homepage"})}]}]);n(100);s.a.createRoot(document.getElementById("root")).render(Object(be.jsx)(r.a,{store:ie,children:Object(be.jsx)(i.a,{loading:null,persistor:oe,children:Object(be.jsx)(o.c,{router:Te})})}))},43:function(e,t,n){},44:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.8a4bf3f3.chunk.js.map