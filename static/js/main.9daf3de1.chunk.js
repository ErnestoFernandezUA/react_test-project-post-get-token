(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(43),s=n.n(a),o=n(44),c=n(4),i=n(13),d=n(15),u=n(17),l=n(45),p=n.n(l),j=n(11),b=n(5),h=n.n(b),f=n(8),g=n(82),m="https://frontend-test-assignment-api.abz.agency/api/v1",x=g.a.create({baseURL:m}),O=function(e){return Object(f.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get(e);case 2:return n=t.sent,console.log("get",m+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},v=function(e,t){return Object(f.a)(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.post(e,t);case 2:return r=n.sent,console.log("post",m+e,t),n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})))()},_={storage:[],statusLoading:"idle",error:null},y=Object(d.b)("users/getPositions",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,O("/positions");case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(e.t0);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(d.c)({name:"positions",initialState:_,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return _}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.statusLoading="loading"})).addCase(y.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(y.rejected,(function(e){e.statusLoading="failed"}))}}),C=k.reducer,w=k.actions,N=(w.setPositionsStatus,w.setPositionsError,w.resetPositionsState,function(e){return e.positions.storage}),S=function(e,t){var n=Date.now();return!!e&&(console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",n-e<60*t*1e3),n-e<60*t*1e3)},L={storage:null,currentRequestId:null,setAt:null,statusLoading:"idle",error:null},E=Object(d.b)("token/fetchToken",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r,a,s,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.requestId,s=r(),o=S(s.token.setAt,40),a!==s.token.currentRequestId||o){e.next=8;break}return e.next=6,O("/token");case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(d.c)({name:"token",initialState:L,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return L}},extraReducers:function(e){e.addCase(E.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.currentRequestId||(e.currentRequestId=n)})).addCase(E.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.setAt=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(E.rejected,(function(e){e.statusLoading="failed"}))}}),P=I.reducer,W=I.actions,T=(W.setToken,W.setStatus,W.setError,W.resetToken,function(e,t,n){return O(e||"/users?page=".concat(t,"&count=").concat(n))}),F={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},U=Object(d.b)("users/fetchUsers",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r,a,s,o,c,i,d,u,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.link_to_next_page,a=void 0===r?null:r,s=t.page,o=void 0===s?1:s,c=t.count,i=void 0===c?6:c,d=t.delay,u=void 0===d?5e3:d,l=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,u)}));case 5:return e.next=7,T(a,o,i);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(d.b)("users/postUser",function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r,a,s,o,c,i,d,u,l,p,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,a=r.name,s=r.email,o=r.phone,c=r.images,i=r.position_id,d=n.getState,u=n.rejectWithValue,console.log("postUserAsync",i),e.prev=3,l=d(),console.log("state.token.storage",l.token.storage),(p=new FormData).append("position_id",i),p.append("name",a),p.append("email",s),p.append("phone",o),p.append("photo",c[0]),console.log(p),e.next=15,b={body:p,headers:{Token:String(l.token.storage)}},v("/users",b);case 15:return j=e.sent,console.log("postUserAsync/ response",j),e.abrupt("return",j);case 20:e.prev=20,e.t0=e.catch(3),u(e.t0);case 23:case"end":return e.stop()}var b}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(d.c)({name:"user",initialState:F,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(j.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetState:function(){return F}},extraReducers:function(e){e.addCase(U.pending,(function(e){e.statusLoading="loading"})).addCase(U.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,r=t.payload,a=r.users,s=r.links.next_url,o=r.total_pages,c=r.page;(n=e.payload).push.apply(n,Object(j.a)(a)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=o,e.current_page=c}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(U.rejected,(function(e){e.statusLoading="failed"})).addCase(R.pending,(function(e){e.statusLoading="loading"})).addCase(R.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(R.rejected,(function(e){e.statusLoading="failed"}))}}),q=A.reducer,H=A.actions,D=(H.addUsers,H.addPayload),B=(H.setStatus,H.resetState,function(e){return e.users.storage}),V=function(e){return e.users.payload},G=function(e){return e.users.statusLoading},J=function(e){return e.users.error},M=function(e){return e.users.link_to_next_page},z=function(e){return e.users.current_page===e.users.total_pages},K=function(e){return e.users.fails},Y=Object(i.b)({users:q,token:P,positions:C}),Q={key:"root",storage:p.a,whitelist:["token"]},X=Object(u.g)(Q,Y),Z=Object(d.a)({reducer:X,middleware:function(e){return e({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e,"posts"]}})}}),$=Z,ee=Object(u.h)(Z),te=n(0),ne=n(37),re=r.b,ae=r.c,se=(n(66),n(2)),oe=function(e){var t=e.children;return Object(se.jsx)("div",{className:"Container",children:t})},ce=(n(68),function(e){var t=e.children;return Object(se.jsx)("div",{className:"Wrapper",children:t})}),ie=n(23),de=n.n(ie),ue=(n(69),function(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,a=e.children,s=void 0===a?"":a,o=e.onClick,c=void 0===o?function(){return console.log("no onClick function")}:o,i=e.width;return Object(se.jsx)("div",{className:de()("Button",{"Button--disabled":r},t),onClick:c,style:{width:i},onKeyDown:function(){},children:Object(se.jsx)("div",{className:"Button__container",children:s})})}),le=n.p+"static/media/logo.85fd1d96.svg",pe=(n(70),function(){return Object(se.jsx)("header",{className:"Header",children:Object(se.jsx)(oe,{children:Object(se.jsx)(ce,{children:Object(se.jsxs)("div",{className:"Header__container",children:[Object(se.jsx)("div",{className:"Header__logo",children:Object(se.jsx)("img",{src:le,alt:"Logo"})}),Object(se.jsxs)("div",{className:"Header__nav",children:[Object(se.jsx)(ue,{className:"Header__button",disabled:!1,children:"Users"}),Object(se.jsx)(ue,{className:"Header__button",children:"Sign in"})]})]})})})})}),je=(n(71),function(){return Object(se.jsx)("section",{children:Object(se.jsx)(oe,{children:Object(se.jsxs)("div",{className:"Promo",children:[Object(se.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(se.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(se.jsx)(ue,{children:"Sign up"})]})})})}),be=n(6),he=768,fe=1024,ge=1170;n(72);var me=function(e){var t=e.user,n=t.name,r=t.email,a=t.photo,s=t.phone,o=t.position,c={maxWidth:e.maxWidthContent,border:"1px solid transparent"};return Object(se.jsxs)("div",{className:"Card",children:[Object(se.jsx)("img",{className:"Card__photo",src:a,alt:a}),Object(se.jsx)("p",{className:"Card__name",style:c,children:n}),Object(se.jsx)("p",{className:"Card__position",children:o}),Object(se.jsx)("p",{className:"Card__email",style:c,children:r}),Object(se.jsx)("p",{className:"Card__phone",children:s})]})},xe=(n(73),function(e){var t=e.children;return Object(se.jsx)("div",{className:"List",children:t})}),Oe=(n(74),function(){var e=Object(te.useRef)(null),t=re(),n=ae(B),r=ae(V),a=ae(G),s=ae(M),o=ae(z),c=ae(J),i=Object(te.useState)("200px"),d=Object(be.a)(i,2),u=d[0],l=d[1];return Object(te.useEffect)((function(){l("".concat(function(){var e=window.innerWidth;switch(!0){case e>ge:return 1112/3-40;case e>fe:return(e-120-58)/3-40;case e>he:return(e-64-16)/2-40;default:return e-32-40}}(),"px"))}),[]),Object(te.useEffect)((function(){setTimeout((function(){r.length>0&&t(D())}),5e3),null!==e.current&&e.current.scrollIntoView({behavior:"smooth"})}),[n.length,r,t]),Object(se.jsx)("section",{children:Object(se.jsx)(oe,{children:Object(se.jsxs)(ce,{children:[Object(se.jsx)("h2",{className:"SectionGet__title",children:"Working with GET request"}),c&&Object(se.jsx)("p",{children:c}),Object(se.jsx)(xe,{children:n.map((function(e){return Object(se.jsx)(me,{user:e,maxWidthContent:u},e.id)}))}),"loading"===a&&Object(se.jsx)(se.Fragment,{children:"Loading ....."}),Object(se.jsx)(xe,{children:r.map((function(e){return Object(se.jsx)(me,{user:e,maxWidthContent:u},e.id)}))}),Object(se.jsx)("div",{className:"SectionGet__button-container",children:!o&&Object(se.jsx)(ue,{onClick:function(){return t(U({link_to_next_page:s}))},width:120,children:"Show More"})}),Object(se.jsx)("div",{ref:e})]})})})}),ve="#E5E5E5",_e=(n(75),function(e){var t=e.label,n=e.type,r=void 0===n?"text":n,a=e.value,s=e.helper,o=e.errors,c=e.onChange,i=void 0===c?function(){return console.log("no input onChange function")}:c,d=e.backgroundColor,u=void 0===d?"white":d,l=e.className,p=e.maxWidthErrors,j={backgroundColor:u},b={backgroundColor:u},h={backgroundColor:u},f={width:p,border:"1px solid green"};return console.log("maxWidthErrors",p),Object(se.jsxs)("div",{className:de()("Input",l),style:j,children:[Object(se.jsxs)("label",{htmlFor:"input",children:[a&&Object(se.jsx)("p",{className:"Input__label",style:b,children:t}),Object(se.jsx)("input",{id:"input",type:r,value:a,onChange:i,className:de()("Input__input",{"Input__input--error":null===o||void 0===o?void 0:o.length}),placeholder:t,style:h})]}),(null===o||void 0===o?void 0:o.length)?Object(se.jsx)("div",{className:"Input__error-container",children:o.map((function(e){return Object(se.jsx)("div",{className:"Input__error",style:f,children:e},e)}))}):Object(se.jsx)("p",{className:"Input__helpers",children:s})]})}),ye=(n(76),function(){var e=re(),t=ae(N),n=ae(K),r=Object(te.useState)("Tom"),a=Object(be.a)(r,2),s=a[0],o=a[1],c=Object(te.useState)("tom@valid.et"),i=Object(be.a)(c,2),d=i[0],u=i[1],l=Object(te.useState)("+380955388485"),p=Object(be.a)(l,2),j=p[0],b=p[1],g=Object(te.useState)("1"),m=Object(be.a)(g,2),x=m[0],O=m[1],v=Object(te.useState)(),_=Object(be.a)(v,2),y=_[0],k=_[1],C=Object(te.useState)(!1),w=Object(be.a)(C,2),S=w[0],L=w[1],E=Object(te.useRef)(),I=Object(te.useState)(328),P=Object(be.a)(I,2),W=P[0],T=P[1];Object(te.useEffect)((function(){T(function(){var e=window.innerWidth;return console.log("width",e),e<412?e-32:380}())}),[e]);var F=function(){E.current.click()},A=function(){var t=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.prev=1,console.log("handleUpload",{user:{name:s,email:d,phone:j,images:y,position_id:x}}),e(R({user:{name:s,email:d,phone:j,images:y,position_id:x}})),t.next=6,e(U({page:1,count:6}));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.prev=10,L(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})));return function(){return t.apply(this,arguments)}}();return Object(se.jsxs)("div",{className:"Form",children:[Object(se.jsx)(_e,{label:"Your name",type:"text",value:s,errors:n.name,onChange:function(e){return o(e.target.value)},backgroundColor:ve,className:"Form__input-name",maxWidthErrors:W}),Object(se.jsx)(_e,{label:"Email",type:"text",value:s,errors:["Error1","Error2dsdfsdfsdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd","Error3"],onChange:function(e){return o(e.target.value)},backgroundColor:ve,className:"Form__input-email",maxWidthErrors:W}),Object(se.jsxs)("label",{htmlFor:"name",children:["name:\xa0",Object(se.jsx)("input",{id:"name",type:"text",value:s,onChange:function(e){return o(e.target.value)}}),n.name&&n.name.map((function(e){return Object(se.jsx)("p",{children:e},e)}))]}),Object(se.jsxs)("label",{htmlFor:"email",children:["email:\xa0",Object(se.jsx)("input",{id:"email",type:"text",value:d,onChange:function(e){return u(e.target.value)}}),n.email&&n.email.map((function(e){return Object(se.jsx)("p",{children:e},e)}))]}),Object(se.jsxs)("label",{htmlFor:"phone",children:["phone:\xa0",Object(se.jsx)("input",{id:"phone",type:"text",value:j,onChange:function(e){return b(e.target.value)}}),n.phone&&n.phone.map((function(e){return Object(se.jsx)("p",{children:e},e)}))]}),Object(se.jsxs)("label",{htmlFor:"positions",children:["positions:\xa0",Object(se.jsx)("select",{id:"positions",value:x,onChange:function(e){return O(e.target.value)},children:t.map((function(e){return Object(se.jsx)("option",{value:e.id,children:e.name},e.id)}))}),n.position_id&&n.position_id.map((function(e){return Object(se.jsx)("p",{children:e},e)}))]}),Object(se.jsxs)("label",{htmlFor:"file",children:[Object(se.jsx)("div",{style:{visibility:"hidden"},children:Object(se.jsx)("input",{type:"file",onChange:function(e){return k(e.target.files)},accept:"image/*",ref:E,multiple:!0,disabled:S})}),n.images&&n.images.map((function(e){return Object(se.jsx)("p",{children:e},e)}))]}),(null===y||void 0===y?void 0:y.length)?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"img-preview",children:Array.from(y).map((function(e){return Object(se.jsx)("img",{alt:e,src:URL.createObjectURL(e)},e)}))}),Object(se.jsx)("div",{className:"action-buttons",children:Object(se.jsx)("button",{type:"button",onClick:F,disabled:S,children:"Change"})})]}):Object(se.jsx)("button",{type:"button",onClick:F,children:"Chose Images"}),Object(se.jsx)("button",{type:"button",onClick:function(){return A()},disabled:S,children:"Post User"})]})}),ke=(n(77),function(){return Object(se.jsx)("section",{className:"SectionPost",children:Object(se.jsx)(oe,{children:Object(se.jsxs)(ce,{children:[Object(se.jsx)("h2",{className:"SectionPost__title",children:"Working with POST request"}),Object(se.jsx)(ye,{})]})})})}),Ce=(n(78),function(){return Object(se.jsxs)("main",{className:"HomePage",children:[Object(se.jsx)(je,{}),Object(se.jsx)(Oe,{}),Object(se.jsx)(ke,{})]})}),we=function(){return Object(se.jsx)("div",{children:"This page doesn't exist."})};function Ne(){var e=re();return Object(te.useEffect)((function(){e(E()),e(U({page:1,count:6})),e(y())}),[e]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(pe,{}),Object(se.jsx)("main",{children:Object(se.jsx)(c.a,{})})]})}var Se=Object(ne.a)([{path:"/",element:Object(se.jsx)(Ne,{}),errorElement:Object(se.jsx)(we,{}),id:"App",children:[{path:"/",element:Object(se.jsx)(Ce,{}),id:"homepage",errorElement:Object(se.jsx)(se.Fragment,{children:"Error on Homepage"})}]}]);n(79);s.a.createRoot(document.getElementById("root")).render(Object(se.jsx)(r.a,{store:$,children:Object(se.jsx)(o.a,{loading:null,persistor:ee,children:Object(se.jsx)(c.c,{router:Se})})}))}},[[80,1,2]]]);
//# sourceMappingURL=main.9daf3de1.chunk.js.map