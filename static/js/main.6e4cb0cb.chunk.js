(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(42),s=n.n(r),o=n(43),i=n(4),c=n(13),u=n(15),l=n(17),d=n(44),p=n.n(d),f=n(11),j=n(5),g=n.n(j),b=n(8),h=n(77),x="https://frontend-test-assignment-api.abz.agency/api/v1",m=h.a.create({baseURL:x}),O=function(e){return Object(b.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get(e);case 2:return n=t.sent,console.log("get",x+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},v=function(e,t){return Object(b.a)(g.a.mark((function n(){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.post(e,t);case 2:return a=n.sent,console.log("post",x+e,t),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)})))()},y={storage:[],statusLoading:"idle",error:null},k=Object(u.b)("users/getPositions",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,O("/positions");case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(u.c)({name:"positions",initialState:y,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(f.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return y}},extraReducers:function(e){e.addCase(k.pending,(function(e){e.statusLoading="loading"})).addCase(k.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(k.rejected,(function(e){e.statusLoading="failed"}))}}),w=_.reducer,L=_.actions,S=(L.setPositionsStatus,L.setPositionsError,L.resetPositionsState,function(e,t){var n=Date.now();return!!e&&(console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",n-e<60*t*1e3),n-e<60*t*1e3)}),C={storage:null,currentRequestId:null,setAt:null,statusLoading:"idle",error:null},N=Object(u.b)("token/fetchToken",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.requestId,s=a(),o=S(s.token.setAt,40),r!==s.token.currentRequestId||o){e.next=8;break}return e.next=6,O("/token");case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(u.c)({name:"token",initialState:C,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return C}},extraReducers:function(e){e.addCase(N.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.currentRequestId||(e.currentRequestId=n)})).addCase(N.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.setAt=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(N.rejected,(function(e){e.statusLoading="failed"}))}}),E=P.reducer,A=P.actions,T=(A.setToken,A.setStatus,A.setError,A.resetToken,function(e,t,n){return O(e||"/users?page=".concat(t,"&count=").concat(n))}),I={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},R=Object(u.b)("users/fetchUsers",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i,c,u,l,d,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.link_to_next_page,r=void 0===a?null:a,s=t.page,o=void 0===s?1:s,i=t.count,c=void 0===i?6:i,u=t.delay,l=void 0===u?5e3:u,d=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,l)}));case 5:return e.next=7,T(r,o,c);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),d(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(u.b)("users/postUser",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i,c,u,l,d,p,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,r=a.name,s=a.email,o=a.phone,i=a.images,c=a.position_id,u=n.getState,l=n.rejectWithValue,console.log("postUserAsync",c),e.prev=3,d=u(),console.log("state.token.storage",d.token.storage),(p=new FormData).append("position_id",c),p.append("name",r),p.append("email",s),p.append("phone",o),p.append("photo",i[0]),console.log(p),e.next=15,j={body:p,headers:{Token:String(d.token.storage)}},v("/users",j);case 15:return f=e.sent,console.log("postUserAsync/ response",f),e.abrupt("return",f);case 20:e.prev=20,e.t0=e.catch(3),l(e.t0);case 23:case"end":return e.stop()}var j}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(u.c)({name:"user",initialState:I,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(f.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(f.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetState:function(){return I}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.statusLoading="loading"})).addCase(R.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,a=t.payload,r=a.users,s=a.links.next_url,o=a.total_pages,i=a.page;(n=e.payload).push.apply(n,Object(f.a)(r)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=o,e.current_page=i}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(R.rejected,(function(e){e.statusLoading="failed"})).addCase(U.pending,(function(e){e.statusLoading="loading"})).addCase(U.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(U.rejected,(function(e){e.statusLoading="failed"}))}}),q=H.reducer,F=H.actions,W=(F.addUsers,F.addPayload),D=(F.setStatus,F.resetState,function(e){return e.users.storage}),G=function(e){return e.users.payload},B=function(e){return e.users.statusLoading},V=function(e){return e.users.error},z=function(e){return e.users.link_to_next_page},J=function(e){return e.users.current_page===e.users.total_pages},M=Object(c.b)({users:q,token:E,positions:w}),K={key:"root",storage:p.a,whitelist:["token"]},Q=Object(l.g)(K,M),X=Object(u.a)({reducer:Q,middleware:function(e){return e({serializableCheck:{ignoredActions:[l.a,l.f,l.b,l.c,l.d,l.e,"posts"]}})}}),Y=X,Z=Object(l.h)(X),$=n(0),ee=n(36),te=a.b,ne=a.c,ae=(n(66),n(3)),re=function(e){var t=e.children;return Object(ae.jsx)("div",{className:"Container",children:t})},se=(n(68),function(e){var t=e.children;return Object(ae.jsx)("div",{className:"Wrapper",children:t})}),oe=n(47),ie=n.n(oe),ce=(n(69),function(e){var t=e.className,n=e.disabled,a=void 0!==n&&n,r=e.children,s=void 0===r?"":r,o=e.onClick,i=void 0===o?function(){return console.log("no onClick function")}:o,c=e.width;return Object(ae.jsx)("div",{className:ie()("Button",{"Button--disabled":a},t),onClick:i,style:{width:c},onKeyDown:function(){},children:Object(ae.jsx)("div",{className:"Button__container",children:s})})}),ue=n.p+"static/media/logo.85fd1d96.svg",le=(n(70),function(){return Object(ae.jsx)("header",{className:"Header",children:Object(ae.jsx)(re,{children:Object(ae.jsx)(se,{children:Object(ae.jsxs)("div",{className:"Header__container",children:[Object(ae.jsx)("div",{className:"Header__logo",children:Object(ae.jsx)("img",{src:ue,alt:"Logo"})}),Object(ae.jsxs)("div",{className:"Header__nav",children:[Object(ae.jsx)(ce,{className:"Header__button",disabled:!1,children:"Users"}),Object(ae.jsx)(ce,{className:"Header__button",children:"Sign in"})]})]})})})})}),de=(n(71),function(){return Object(ae.jsx)("article",{className:"Promo",children:Object(ae.jsx)(re,{children:Object(ae.jsx)("div",{className:"Promo__poster",children:Object(ae.jsxs)(se,{children:[Object(ae.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(ae.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(ae.jsx)(ce,{className:"Promo__button",children:"Sign up"})]})})})})}),pe=(n(72),function(){var e=Object($.useRef)(null),t=te(),n=ne(D),a=ne(G),r=ne(B),s=ne(z),o=ne(J),i=ne(V);return Object($.useEffect)((function(){}),[]),Object($.useEffect)((function(){setTimeout((function(){a.length>0&&t(W())}),5e3),null!==e.current&&e.current.scrollIntoView({behavior:"smooth"})}),[n.length,a,t]),Object(ae.jsx)("article",{className:"ArticleGet",children:Object(ae.jsx)(re,{children:Object(ae.jsx)(se,{children:Object(ae.jsxs)("div",{className:"ArticleGet__content",children:[Object(ae.jsx)("h2",{className:"ArticleGet__title",children:"Working with GET request"}),i&&Object(ae.jsx)("p",{children:i}),"loading"===r&&Object(ae.jsx)(ae.Fragment,{children:"Loading ....."}),Object(ae.jsx)("div",{className:"ArticleGet__button-container",children:!o&&Object(ae.jsx)(ce,{onClick:function(){return t(R({link_to_next_page:s}))},width:120,children:"Show More"})})]})})})})}),fe=(n(73),function(){return Object(ae.jsxs)("section",{className:"HomePage",children:[Object(ae.jsx)(de,{}),Object(ae.jsx)(pe,{})]})}),je=function(){return Object(ae.jsx)("div",{children:"This page doesn't exist."})};function ge(){var e=te();return Object($.useEffect)((function(){e(N()),e(R({page:1,count:6})),e(k())}),[e]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(le,{}),Object(ae.jsxs)("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:9999},children:[window.innerWidth,"x",window.innerHeight]}),Object(ae.jsx)("main",{children:Object(ae.jsx)(i.a,{})})]})}var be=Object(ee.a)([{path:"/",element:Object(ae.jsx)(ge,{}),errorElement:Object(ae.jsx)(je,{}),id:"App",children:[{path:"/",element:Object(ae.jsx)(fe,{}),id:"homepage",errorElement:Object(ae.jsx)(ae.Fragment,{children:"Error on Homepage"})},{path:"/admin",element:Object(ae.jsx)(ae.Fragment,{children:"AdminPage"}),id:"admin-page",errorElement:Object(ae.jsx)(ae.Fragment,{children:"Error on AdminPage"})}]}]);n(74);s.a.createRoot(document.getElementById("root")).render(Object(ae.jsx)(a.a,{store:Y,children:Object(ae.jsx)(o.a,{loading:null,persistor:Z,children:Object(ae.jsx)(i.c,{router:be})})}))}},[[75,1,2]]]);
//# sourceMappingURL=main.6e4cb0cb.chunk.js.map