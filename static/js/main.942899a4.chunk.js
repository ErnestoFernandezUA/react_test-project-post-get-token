(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(42),s=n.n(r),o=n(43),c=n(4),i=n(13),u=n(15),d=n(17),l=n(44),p=n.n(l),j=n(11),f=n(5),h=n.n(f),b=n(8),g=n(79),m="https://frontend-test-assignment-api.abz.agency/api/v1",x=g.a.create({baseURL:m}),O=function(e){return Object(b.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get(e);case 2:return n=t.sent,console.log("get",m+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},v=function(e,t){return Object(b.a)(h.a.mark((function n(){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.post(e,t);case 2:return a=n.sent,console.log("post",m+e,t),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)})))()},_={storage:[],statusLoading:"idle",error:null},y=Object(u.b)("users/getPositions",function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,O("/positions");case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(u.c)({name:"positions",initialState:_,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return _}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.statusLoading="loading"})).addCase(y.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(y.rejected,(function(e){e.statusLoading="failed"}))}}),w=k.reducer,C=k.actions,L=(C.setPositionsStatus,C.setPositionsError,C.resetPositionsState,function(e,t){var n=Date.now();return!!e&&(console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",n-e<60*t*1e3),n-e<60*t*1e3)}),N={storage:null,currentRequestId:null,setAt:null,statusLoading:"idle",error:null},S=Object(u.b)("token/fetchToken",function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,s,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.requestId,s=a(),o=L(s.token.setAt,40),r!==s.token.currentRequestId||o){e.next=8;break}return e.next=6,O("/token");case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(u.c)({name:"token",initialState:N,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return N}},extraReducers:function(e){e.addCase(S.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.currentRequestId||(e.currentRequestId=n)})).addCase(S.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.setAt=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(S.rejected,(function(e){e.statusLoading="failed"}))}}),P=E.reducer,A=E.actions,T=(A.setToken,A.setStatus,A.setError,A.resetToken,function(e,t,n){return O(e||"/users?page=".concat(t,"&count=").concat(n))}),W={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},I=Object(u.b)("users/fetchUsers",function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,s,o,c,i,u,d,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.link_to_next_page,r=void 0===a?null:a,s=t.page,o=void 0===s?1:s,c=t.count,i=void 0===c?6:c,u=t.delay,d=void 0===u?5e3:u,l=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,d)}));case 5:return e.next=7,T(r,o,i);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(u.b)("users/postUser",function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,s,o,c,i,u,d,l,p,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,r=a.name,s=a.email,o=a.phone,c=a.images,i=a.position_id,u=n.getState,d=n.rejectWithValue,console.log("postUserAsync",i),e.prev=3,l=u(),console.log("state.token.storage",l.token.storage),(p=new FormData).append("position_id",i),p.append("name",r),p.append("email",s),p.append("phone",o),p.append("photo",c[0]),console.log(p),e.next=15,f={body:p,headers:{Token:String(l.token.storage)}},v("/users",f);case 15:return j=e.sent,console.log("postUserAsync/ response",j),e.abrupt("return",j);case 20:e.prev=20,e.t0=e.catch(3),d(e.t0);case 23:case"end":return e.stop()}var f}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(u.c)({name:"user",initialState:W,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(j.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(j.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetState:function(){return W}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.statusLoading="loading"})).addCase(I.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,a=t.payload,r=a.users,s=a.links.next_url,o=a.total_pages,c=a.page;(n=e.payload).push.apply(n,Object(j.a)(r)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=o,e.current_page=c}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(I.rejected,(function(e){e.statusLoading="failed"})).addCase(R.pending,(function(e){e.statusLoading="loading"})).addCase(R.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(R.rejected,(function(e){e.statusLoading="failed"}))}}),H=U.reducer,q=U.actions,F=(q.addUsers,q.addPayload),D=(q.setStatus,q.resetState,function(e){return e.users.storage}),G=function(e){return e.users.payload},B=function(e){return e.users.statusLoading},V=function(e){return e.users.error},z=function(e){return e.users.link_to_next_page},J=function(e){return e.users.current_page===e.users.total_pages},M=Object(i.b)({users:H,token:P,positions:w}),K={key:"root",storage:p.a,whitelist:["token"]},Q=Object(d.g)(K,M),X=Object(u.a)({reducer:Q,middleware:function(e){return e({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e,"posts"]}})}}),Y=X,Z=Object(d.h)(X),$=n(0),ee=n(36),te=a.b,ne=a.c,ae=(n(66),n(3)),re=function(e){var t=e.children;return Object(ae.jsx)("div",{className:"Container",children:t})},se=(n(68),function(e){var t=e.children;return Object(ae.jsx)("div",{className:"Wrapper",style:{},children:t})}),oe=n(47),ce=n.n(oe),ie=(n(69),function(e){var t=e.className,n=e.disabled,a=void 0!==n&&n,r=e.children,s=void 0===r?"":r,o=e.onClick,c=void 0===o?function(){return console.log("no onClick function")}:o,i=e.width;return Object(ae.jsx)("div",{className:ce()("Button",{"Button--disabled":a},t),onClick:c,style:{width:i},onKeyDown:function(){},children:Object(ae.jsx)("div",{className:"Button__container",children:s})})}),ue=n.p+"static/media/logo.85fd1d96.svg",de=(n(70),function(){return Object(ae.jsx)("header",{className:"Header",children:Object(ae.jsx)(re,{children:Object(ae.jsx)(se,{children:Object(ae.jsxs)("div",{className:"Header__container",children:[Object(ae.jsx)("div",{className:"Header__logo",children:Object(ae.jsx)("img",{src:ue,alt:"Logo"})}),Object(ae.jsxs)("div",{className:"Header__nav",children:[Object(ae.jsx)(ie,{className:"Header__button",disabled:!1,children:"Users"}),Object(ae.jsx)(ie,{className:"Header__button",children:"Sign in"})]})]})})})})}),le=(n(71),function(){return Object(ae.jsx)("article",{className:"Promo",children:Object(ae.jsx)(re,{children:Object(ae.jsx)("div",{className:"Promo__poster",children:Object(ae.jsxs)(se,{children:[Object(ae.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(ae.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(ae.jsx)(ie,{className:"Promo__button",children:"Sign up"})]})})})})}),pe=n(6),je=768,fe=1024,he=1170;n(72);var be=function(e){var t=e.user,n=t.name,a=t.email,r=t.photo,s=t.phone,o=t.position,c={maxWidth:e.maxWidthContent,border:"1px solid transparent"};return Object(ae.jsxs)("div",{className:"Card",children:[Object(ae.jsx)("img",{className:"Card__photo",src:r,alt:r}),Object(ae.jsx)("p",{className:"Card__name",style:c,children:n}),Object(ae.jsx)("p",{className:"Card__position",children:o}),Object(ae.jsx)("p",{className:"Card__email",style:c,children:a}),Object(ae.jsx)("p",{className:"Card__phone",children:s})]})},ge=(n(73),function(e){var t=e.children;return Object(ae.jsx)("div",{className:"List",children:t})}),me=(n(74),function(){var e=Object($.useRef)(null),t=te(),n=ne(D),a=ne(G),r=ne(B),s=ne(z),o=ne(J),c=ne(V),i=Object($.useState)("200px"),u=Object(pe.a)(i,2),d=u[0],l=u[1];return Object($.useEffect)((function(){l("".concat(function(){var e=window.innerWidth;switch(!0){case e>he:return 1112/3-40;case e>fe:return(e-120-58)/3-40;case e>je:return(e-64-16)/2-40;default:return e-32-40}}(),"px"))}),[]),Object($.useEffect)((function(){setTimeout((function(){a.length>0&&t(F())}),5e3),null!==e.current&&e.current.scrollIntoView({behavior:"smooth"})}),[n.length,a,t]),console.log("document.documentElement.clientWidth",document.documentElement.clientWidth),Object(ae.jsx)("article",{className:"ArticleGet",children:Object(ae.jsx)(re,{children:Object(ae.jsx)(se,{children:Object(ae.jsxs)("div",{className:"ArticleGet__content",children:[Object(ae.jsx)("h2",{className:"ArticleGet__title",children:"Working with GET request"}),c&&Object(ae.jsx)("p",{children:c}),Object(ae.jsx)(ge,{children:n.map((function(e){return Object(ae.jsx)(be,{user:e,maxWidthContent:d},e.id)}))}),"loading"===r&&Object(ae.jsx)(ae.Fragment,{children:"Loading ....."}),Object(ae.jsx)(ge,{children:a.map((function(e){return Object(ae.jsx)(be,{user:e,maxWidthContent:d},e.id)}))}),Object(ae.jsx)("div",{className:"ArticleGet__button-container",children:!o&&Object(ae.jsx)(ie,{onClick:function(){return t(I({link_to_next_page:s}))},width:120,children:"Show More"})})]})})})})}),xe=(n(75),function(){return Object(ae.jsxs)("section",{className:"HomePage",children:[Object(ae.jsx)(le,{}),Object(ae.jsx)(me,{})]})}),Oe=function(){return Object(ae.jsx)("div",{children:"This page doesn't exist."})};function ve(){var e=te();return Object($.useEffect)((function(){e(S()),e(I({page:1,count:6})),e(y())}),[e]),Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(de,{}),Object(ae.jsxs)("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:9999},children:[window.innerWidth,"x",window.innerHeight]}),Object(ae.jsx)("main",{children:Object(ae.jsx)(c.a,{})})]})}var _e=Object(ee.a)([{path:"/",element:Object(ae.jsx)(ve,{}),errorElement:Object(ae.jsx)(Oe,{}),id:"App",children:[{path:"/",element:Object(ae.jsx)(xe,{}),id:"homepage",errorElement:Object(ae.jsx)(ae.Fragment,{children:"Error on Homepage"})},{path:"/admin",element:Object(ae.jsx)(ae.Fragment,{children:"AdminPage"}),id:"admin-page",errorElement:Object(ae.jsx)(ae.Fragment,{children:"Error on AdminPage"})}]}]);n(76);s.a.createRoot(document.getElementById("root")).render(Object(ae.jsx)(a.a,{store:Y,children:Object(ae.jsx)(o.a,{loading:null,persistor:Z,children:Object(ae.jsx)(c.c,{router:_e})})}))}},[[77,1,2]]]);
//# sourceMappingURL=main.942899a4.chunk.js.map