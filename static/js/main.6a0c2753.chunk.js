(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(42),s=n.n(r),o=n(43),i=n(3),c=n(13),d=n(15),u=n(17),l=n(44),p=n.n(l),f=n(11),j=n(4),g=n.n(j),b=n(8),h=n(76),m="https://frontend-test-assignment-api.abz.agency/api/v1",x=h.a.create({baseURL:m}),v=function(e){return Object(b.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get(e);case 2:return n=t.sent,console.log("get",m+e),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},O=function(e,t){return Object(b.a)(g.a.mark((function n(){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.post(e,t);case 2:return a=n.sent,console.log("post",m+e,t),n.abrupt("return",a.data);case 5:case"end":return n.stop()}}),n)})))()},y={storage:[],statusLoading:"idle",error:null},k=Object(d.b)("users/getPositions",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v("/positions");case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(d.c)({name:"positions",initialState:y,reducers:{addPositions:function(e,t){var n;(n=e.storage).push.apply(n,Object(f.a)(t.payload))},setPositionsStatus:function(e,t){e.statusLoading=t.payload},setPositionsError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetPositionsState:function(){return y}},extraReducers:function(e){e.addCase(k.pending,(function(e){e.statusLoading="loading"})).addCase(k.fulfilled,(function(e,t){e.statusLoading="idle",t.payload&&t.payload.success&&(e.storage=t.payload.positions)})).addCase(k.rejected,(function(e){e.statusLoading="failed"}))}}),w=_.reducer,L=_.actions,S=(L.setPositionsStatus,L.setPositionsError,L.resetPositionsState,function(e,t){var n=Date.now();return!!e&&(console.log("selectTokenIsExpired/ time from last:",Math.floor((n-e)/1e3/60),"min,","is token active? ",n-e<60*t*1e3),n-e<60*t*1e3)}),C={storage:null,currentRequestId:null,setAt:null,statusLoading:"idle",error:null},P=Object(d.b)("token/fetchToken",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.requestId,s=a(),o=S(s.token.setAt,40),r!==s.token.currentRequestId||o){e.next=8;break}return e.next=6,v("/token");case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(d.c)({name:"token",initialState:C,reducers:{setToken:function(e,t){e.storage=t.payload.token},setStatus:function(e,t){e.statusLoading=t.payload},setError:function(e,t){e.error=t.payload,e.statusLoading="failed"},resetToken:function(){return C}},extraReducers:function(e){e.addCase(P.pending,(function(e,t){var n=t.meta.requestId;e.statusLoading="loading",e.currentRequestId||(e.currentRequestId=n)})).addCase(P.fulfilled,(function(e,t){t.payload&&(e.storage=t.payload.token,e.setAt=Date.now()),e.statusLoading="idle",e.currentRequestId=null})).addCase(P.rejected,(function(e){e.statusLoading="failed"}))}}),E=N.reducer,T=N.actions,A=(T.setToken,T.setStatus,T.setError,T.resetToken,function(e,t,n){return v(e||"/users?page=".concat(t,"&count=").concat(n))}),U={storage:[],payload:[],statusLoading:"idle",error:null,link_to_next_page:null,current_page:null,total_pages:null,positions:[],fails:{name:null,email:null,phone:null,images:null,position_id:null}},I=Object(d.b)("users/fetchUsers",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i,c,d,u,l,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.link_to_next_page,r=void 0===a?null:a,s=t.page,o=void 0===s?1:s,i=t.count,c=void 0===i?6:i,d=t.delay,u=void 0===d?5e3:d,l=n.rejectWithValue,e.prev=2,e.next=5,new Promise((function(e){return setTimeout(e,u)}));case 5:return e.next=7,A(r,o,c);case 7:return p=e.sent,e.abrupt("return",p);case 11:e.prev=11,e.t0=e.catch(2),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(d.b)("users/postUser",function(){var e=Object(b.a)(g.a.mark((function e(t,n){var a,r,s,o,i,c,d,u,l,p,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,r=a.name,s=a.email,o=a.phone,i=a.images,c=a.position_id,d=n.getState,u=n.rejectWithValue,console.log("postUserAsync",c),e.prev=3,l=d(),console.log("state.token.storage",l.token.storage),(p=new FormData).append("position_id",c),p.append("name",r),p.append("email",s),p.append("phone",o),p.append("photo",i[0]),console.log(p),e.next=15,j={body:p,headers:{Token:String(l.token.storage)}},O("/users",j);case 15:return f=e.sent,console.log("postUserAsync/ response",f),e.abrupt("return",f);case 20:e.prev=20,e.t0=e.catch(3),u(e.t0);case 23:case"end":return e.stop()}var j}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(d.c)({name:"user",initialState:U,reducers:{addUsers:function(e,t){var n;(n=e.storage).push.apply(n,Object(f.a)(t.payload))},addPayload:function(e){var t;(t=e.storage).push.apply(t,Object(f.a)(e.payload)),e.payload.length=0},setStatus:function(e,t){e.statusLoading=t.payload},resetState:function(){return U}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.statusLoading="loading"})).addCase(I.fulfilled,(function(e,t){if(t.payload&&t.payload.success){var n,a=t.payload,r=a.users,s=a.links.next_url,o=a.total_pages,i=a.page;(n=e.payload).push.apply(n,Object(f.a)(r)),e.statusLoading="idle",e.link_to_next_page=s,e.total_pages=o,e.current_page=i}else e.error="getUsersAsync.fulfilled/ response.success = false"})).addCase(I.rejected,(function(e){e.statusLoading="failed"})).addCase(R.pending,(function(e){e.statusLoading="loading"})).addCase(R.fulfilled,(function(e,t){e.statusLoading="idle",console.log("postUserAsync.fulfilled/ action.payload",t.payload),t.payload})).addCase(R.rejected,(function(e){e.statusLoading="failed"}))}}),q=H.reducer,F=H.actions,W=(F.addUsers,F.addPayload,F.setStatus,F.resetState,Object(c.b)({users:q,token:E,positions:w})),D={key:"root",storage:p.a,whitelist:["token"]},B=Object(u.g)(D,W),z=Object(d.a)({reducer:B,middleware:function(e){return e({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e,"posts"]}})}}),J=z,V=Object(u.h)(z),M=n(0),K=n(36),G=a.b,Q=(a.c,n(66),n(5)),X=function(e){var t=e.children;return Object(Q.jsx)("div",{className:"Container",children:t})},Y=(n(68),function(e){var t=e.children;return Object(Q.jsx)("div",{className:"Wrapper",children:t})}),Z=n(47),$=n.n(Z),ee=(n(69),function(e){var t=e.className,n=e.disabled,a=void 0!==n&&n,r=e.children,s=void 0===r?"":r,o=e.onClick,i=void 0===o?function(){return console.log("no onClick function")}:o,c=e.width;return Object(Q.jsx)("div",{className:$()("Button",{"Button--disabled":a},t),onClick:i,style:{width:c},onKeyDown:function(){},children:Object(Q.jsx)("div",{className:"Button__container",children:s})})}),te=n.p+"static/media/logo.85fd1d96.svg",ne=(n(70),function(){return Object(Q.jsx)("header",{className:"Header",children:Object(Q.jsx)(X,{children:Object(Q.jsx)(Y,{children:Object(Q.jsxs)("div",{className:"Header__container",children:[Object(Q.jsx)("div",{className:"Header__logo",children:Object(Q.jsx)("img",{src:te,alt:"Logo"})}),Object(Q.jsxs)("div",{className:"Header__nav",children:[Object(Q.jsx)(ee,{className:"Header__button",disabled:!1,children:"Users"}),Object(Q.jsx)(ee,{className:"Header__button",children:"Sign in"})]})]})})})})}),ae=(n(71),function(){return Object(Q.jsx)("article",{className:"Promo",children:Object(Q.jsx)(X,{children:Object(Q.jsx)("div",{className:"Promo__poster",children:Object(Q.jsx)(Y,{children:Object(Q.jsxs)("div",{className:"Promo__content",children:[Object(Q.jsx)("h1",{children:"Test assignment for front-end developer"}),Object(Q.jsx)("p",{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),Object(Q.jsx)(ee,{className:"Promo__button",children:"Sign up"})]})})})})})}),re=(n(72),function(){return Object(Q.jsx)("section",{className:"HomePage",children:Object(Q.jsx)(ae,{})})}),se=function(){return Object(Q.jsx)("div",{children:"This page doesn't exist."})};function oe(){var e=G();return Object(M.useEffect)((function(){e(P()),e(I({page:1,count:6})),e(k())}),[e]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ne,{}),Object(Q.jsx)("div",{style:{position:"fixed",top:"70px",left:"20px",zIndex:9999},children:window.innerWidth}),Object(Q.jsx)("main",{children:Object(Q.jsx)(i.a,{})})]})}var ie=Object(K.a)([{path:"/",element:Object(Q.jsx)(oe,{}),errorElement:Object(Q.jsx)(se,{}),id:"App",children:[{path:"/",element:Object(Q.jsx)(re,{}),id:"homepage",errorElement:Object(Q.jsx)(Q.Fragment,{children:"Error on Homepage"})},{path:"/admin",element:Object(Q.jsx)(Q.Fragment,{children:"AdminPage"}),id:"admin-page",errorElement:Object(Q.jsx)(Q.Fragment,{children:"Error on AdminPage"})}]}]);n(73);s.a.createRoot(document.getElementById("root")).render(Object(Q.jsx)(a.a,{store:J,children:Object(Q.jsx)(o.a,{loading:null,persistor:V,children:Object(Q.jsx)(i.c,{router:ie})})}))}},[[74,1,2]]]);
//# sourceMappingURL=main.6a0c2753.chunk.js.map